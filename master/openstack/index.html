<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        <link rel="canonical" href="http://sequenceiq.com/cloudbreak-docs/openstack/">
        <link rel="shortcut icon" href="../img/favicon.ico">

	<title>OpenStack - Cloudbreak 1.2.0</title>

        <link href="../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../css/font-awesome-4.0.3.css" rel="stylesheet">
        <link href="../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="../css/highlight.css">

        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

        
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation" background="red">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            

            <!-- Main title -->
            <img class="navbar-logo" src="http://docs.hortonworks.com/HDPDocuments/Ambari-2.1.0.0/bk_Installing_HDP_AMB/common/images/hortonworks-logo.png" alt="Hortonworks Documentation" width="132" height="52">
            <a class="navbar-brand" href="..">Cloudbreak 1.2.0</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            
                <!-- Main navigation -->
                <ul class="nav navbar-nav">
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Home <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="..">Introduction</a>
</li>

                        
                            
<li >
    <a href="../architecture/">Architecture</a>
</li>

                        
                            
<li >
    <a href="../onprem/">Installation</a>
</li>

                        
                            
<li >
    <a href="../releasenotes/">Release Notes</a>
</li>

                        
                            
<li >
    <a href="../changelog/">Change Log</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li >
                        <a href="../aws/">AWS</a>
                    </li>
                
                
                
                    <li >
                        <a href="../azure/">Azure</a>
                    </li>
                
                
                
                    <li >
                        <a href="../gcp/">GCP</a>
                    </li>
                
                
                
                    <li class="active">
                        <a href="./">OpenStack</a>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Reference <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../api/">API</a>
</li>

                        
                            
<li >
    <a href="../shell/">CLI/Shell</a>
</li>

                        
                            
<li >
    <a href="../ui_account/">Account Management</a>
</li>

                        
                            
<li >
    <a href="../periscope/">Auto-Scaling</a>
</li>

                        
                            
<li >
    <a href="../sssd/">SSSD configuration</a>
</li>

                        
                            
<li >
    <a href="../recipes/">Recipes</a>
</li>

                        
                            
<li >
    <a href="../blueprints/">Blueprints</a>
</li>

                        
                            
<li >
    <a href="../topologies/">Platforms/Topologies</a>
</li>

                        
                            
<li >
    <a href="../kerberos/">Kerberos</a>
</li>

                        
                            
<li >
    <a href="../spi/">SPI</a>
</li>

                        
                            
<li >
    <a href="../operations/">Operations</a>
</li>

                        
                            
<li >
    <a href="../database/">Migration</a>
</li>

                        
                            
<li >
    <a href="../configuration/">Advanced Configuration</a>
</li>

                        
                            
<li >
    <a href="../development/">Development</a>
</li>

                        
                            
<li >
    <a href="../issues/">Known issues</a>
</li>

                        
                        </ul>
                    </li>
                
                
                </ul>
            

            <ul class="nav navbar-nav navbar-right">
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Versions <b class="caret"></b></a>
                    <ul class="dropdown-menu" id="versions-dropdown">
                    </ul>
                </li>
                
                <li>
                    <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                        <i class="fa fa-search"></i> Search
                    </a>
                </li>
                
                    <li >
                        <a rel="next" href="../gcp/">
                            <i class="fa fa-arrow-left"></i> Previous
                        </a>
                    </li>
                    <li >
                        <a rel="prev" href="../api/">
                            Next <i class="fa fa-arrow-right"></i>
                        </a>
                    </li>
                
                
                    <li>
                        <a href="https://github.com/sequenceiq/cloudbreak-docs/blob/master/docs/" >
                            
                                <i class="fa fa-github"></i>
                            
                            GitHub
                        </a>
                    </li>
                
            </ul>
        </div>
    </div>
</div>

        <div class="container">
            
                <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
    
        <li class="main active"><a href="#openstack-cloud-images">OpenStack Cloud Images</a></li>
        
            <li><a href="#openstack-image-details">OpenStack Image Details</a></li>
        
            <li><a href="#import-the-image-into-your-openstack">Import the image into your OpenStack</a></li>
        
    
        <li class="main "><a href="#openstack-setup">OpenStack Setup</a></li>
        
            <li><a href="#setup-cloudbreak-deployer">Setup Cloudbreak Deployer</a></li>
        
            <li><a href="#start-cloudbreak-deployer">Start Cloudbreak Deployer</a></li>
        
            <li><a href="#validate-the-started-cloudbreak-deployer">Validate the started Cloudbreak Deployer</a></li>
        
    
        <li class="main "><a href="#provisioning-prerequisites">Provisioning Prerequisites</a></li>
        
            <li><a href="#generate-a-new-ssh-key">Generate a new SSH key</a></li>
        
    
        <li class="main "><a href="#provisioning-via-browser">Provisioning via Browser</a></li>
        
            <li><a href="#setting-up-openstack-credentials">Setting up OpenStack credentials</a></li>
        
            <li><a href="#infrastructure-templates">Infrastructure templates</a></li>
        
            <li><a href="#defining-cluster-services">Defining cluster services</a></li>
        
            <li><a href="#cluster-deployment">Cluster deployment</a></li>
        
            <li><a href="#next-steps">Next steps</a></li>
        
            <li><a href="#cluster-termination">Cluster termination</a></li>
        
    
        <li class="main "><a href="#interactive-mode-cloudbreak-shell">Interactive mode / Cloudbreak Shell</a></li>
        
            <li><a href="#create-a-cloud-credential">Create a cloud credential</a></li>
        
            <li><a href="#create-a-template">Create a template</a></li>
        
            <li><a href="#create-or-select-a-blueprint">Create or select a blueprint</a></li>
        
            <li><a href="#create-a-network">Create a network</a></li>
        
            <li><a href="#create-a-security-group">Create a security group</a></li>
        
            <li><a href="#configure-instance-groups">Configure instance groups</a></li>
        
            <li><a href="#create-a-hadoop-cluster">Create a Hadoop cluster</a></li>
        
            <li><a href="#stoprestart-cluster-and-stack">Stop/Restart cluster and stack</a></li>
        
            <li><a href="#upscaledownscale-cluster-and-stack">Upscale/Downscale cluster and stack</a></li>
        
            <li><a href="#silent-mode">Silent mode</a></li>
        
            <li><a href="#example">Example</a></li>
        
            <li><a href="#next-steps_1">Next steps</a></li>
        
    
    </ul>
</div></div>
                <div class="col-md-9" role="main">
                    

<h1 id="openstack-cloud-images">OpenStack Cloud Images</h1>
<p>We have pre-built cloud images for OpenStack with the Cloudbreak Deployer pre-installed and with Cloudbreak 
pre-installed. Following steps will guide you through the launch of the images then the needed configuration.</p>
<blockquote>
<p>Alternatively, instead of using the pre-built cloud image, you can install Cloudbreak Deployer on your own VM. See
 <a href="../onprem/">install the Cloudbreak Deployer</a> for more information.</p>
</blockquote>
<p>Please make sure you opened the following ports on your <a href="http://docs.openstack.org/openstack-ops/content/security_groups.html">security group</a>:</p>
<ul>
<li>SSH (22)</li>
<li>Cloudbreak API (8080)</li>
<li>Identity server (8089)</li>
<li>Cloudbreak GUI (3000)</li>
<li>User authentication (3001)</li>
</ul>
<h2 id="openstack-image-details">OpenStack Image Details</h2>
<h3 id="cloudbreak-deployer-image">Cloudbreak Deployer image</h3>
<h3 id="cloudbreak-image">Cloudbreak image</h3>
<h2 id="import-the-image-into-your-openstack">Import the image into your OpenStack</h2>
<h3 id="cloudbreak-deployer-import">Cloudbreak Deployer import</h3>
<pre><code>export OS_IMAGE_NAME=&lt;add_a_name_to_your_new_image&gt;
export OS_USERNAME=&lt;your_os_user_name&gt;
export OS_AUTH_URL=&lt;http://.../v2.0&gt;
export OS_TENANT_NAME=&lt;your_os_tenant_name&gt;
</code></pre>

<p>Import the new image into your OpenStack:</p>
<pre><code>glance image-create --name &quot;$OS_IMAGE_NAME&quot; --file &quot;$CBD_LATEST_IMAGE&quot; --disk-format qcow2 --container-format bare 
--progress
</code></pre>

<blockquote>
<p><strong>NOTE</strong> This image is needed to launch a machine on your OpenStack with Cloudbreak Deployer.</p>
<p><strong><a href="../onprem/#minimum-and-recommended-system-requirements">Minimum and Recommended VM requirements</a>:</strong> 4GB RAM, 10GB disk, 2 cores</p>
</blockquote>
<p><img alt="" src="../images/os-images.png" />
<sub><em>Full size <a href="../images/os-images.png">here</a>.</em></sub></p>
<h3 id="cloudbreak-import">Cloudbreak import</h3>
<pre><code>export CB_LATEST_IMAGE_NAME=&lt;file_name_of_the_above_cloudbreak_image&gt;
export OS_USERNAME=&lt;your_os_user_name&gt;
export OS_AUTH_URL=&lt;http://.../v2.0&gt;
export OS_TENANT_NAME=&lt;your_os_tenant_name&gt;
</code></pre>

<p>Import the new image into your OpenStack:</p>
<pre><code>glance image-create --name &quot;$CB_LATEST_IMAGE_NAME&quot; --file &quot;$CB_LATEST_IMAGE&quot; --disk-format qcow2 
--container-format bare --progress
</code></pre>

<blockquote>
<p><strong>NOTE</strong> This image is mandatory to provisioning on OpenStack with Cloudbreak application. You need to <a href="./#openstack-specific-configuration">provide its 
name in the <code>Profile</code> file</a>.</p>
</blockquote>
<h1 id="openstack-setup">OpenStack Setup</h1>
<p><strong>Cloudbreak Deployer Highlights</strong></p>
<ul>
<li>The default SSH username for the OpenStack instances is <code>centos</code>.</li>
<li>Cloudbreak Deployer location is <code>/home/centos/cloudbreak-deployment</code> on the launched <code>cbd</code> VM. This is the 
      <code>cbd</code> root folder there.</li>
<li>All <code>cbd</code> actions must be executed from the <code>cbd</code> root folder.</li>
<li>Most of the <code>cbd</code> commands require <code>root</code> permissions. So it would be worth if you apply the <code>sudo su</code>.</li>
</ul>
<h2 id="setup-cloudbreak-deployer">Setup Cloudbreak Deployer</h2>
<p>You should already have the Cloudbreak Deployer either by <a href="./">using the OpenStack Cloud Images</a> or by 
<a href="../onprem/">installing the Cloudbreak Deployer</a> manually on your own VM. If you have your own installed VM with </p>
<p>You can <a href="http://docs.openstack.org/user-guide/dashboard_launch_instances.html#connect-to-your-instance-by-using-ssh">connect to the previously created <code>cbd</code> VM</a>.</p>
<ul>
<li>Cloudbreak Deployer location is <code>/home/centos/cloudbreak-deployment/</code>.</li>
<li>All <code>cbd</code> actions must be executed from the <code>cbd</code> root folder.</li>
<li>Most of the <code>cbd</code> commands require <code>root</code> permissions. So <code>sudo su</code> here would be worth for you. </li>
</ul>
<p>Open the <code>cloudbreak-deployment</code> directory:</p>
<pre><code>cd cloudbreak-deployment
</code></pre>

<p>This is the directory of the configuration files and the supporting binaries for Cloudbreak Deployer.</p>
<h3 id="initialize-your-profile">Initialize your Profile</h3>
<p>First initialize <code>cbd</code> by creating a <code>Profile</code> file:</p>
<pre><code>cbd init
</code></pre>

<p>It will create a <code>Profile</code> file in the current directory. Please open the <code>Profile</code> file then check the <code>PUBLIC_IP</code>. 
This is mandatory, because of to can access the Cloudbreak UI (called Uluwatu). In some cases the <code>cbd</code> tool tries to 
guess it. If <code>cbd</code> cannot get the IP address during the initialization, please set the appropriate value.</p>
<h3 id="openstack-specific-configuration">OpenStack specific configuration</h3>
<p>In order for Cloudbreak to be able to launch clusters on OpenStack on your behalf you need to set your Cloudbreak 
image name in the <code>Profile</code> file.</p>
<pre><code>export CB_OPENSTACK_IMAGE=&quot;$CB_LATEST_IMAGE_NAME&quot;
</code></pre>

<blockquote>
<p><strong>NOTE</strong> The <code>CB_LATEST_IMAGE_NAME</code> is the name of the <a href="./#cloudbreak-import">latest Cloudbreak image on your OpenStack</a>. </p>
</blockquote>
<h2 id="start-cloudbreak-deployer">Start Cloudbreak Deployer</h2>
<p>To start the Cloudbreak application use the following command.
This will start all the Docker containers and initialize the application.</p>
<pre><code>cbd start
</code></pre>

<blockquote>
<p>At the very first time it will take for a while, because of need to download all the necessary docker images.</p>
</blockquote>
<p>The <code>cbd start</code> command includes the <code>cbd generate</code> command which applies the following steps:</p>
<ul>
<li>creates the <strong>docker-compose.yml</strong> file that describes the configuration of all the Docker containers needed for the Cloudbreak deployment.</li>
<li>creates the <strong>uaa.yml</strong> file that holds the configuration of the identity server used to authenticate users to Cloudbreak.</li>
</ul>
<h2 id="validate-the-started-cloudbreak-deployer">Validate the started Cloudbreak Deployer</h2>
<p>After the <code>cbd start</code> command finishes followings are worthy to check:</p>
<ul>
<li>Pre-installed Cloudbreak Deployer version and health.</li>
</ul>
<pre><code>   cbd doctor
</code></pre>

<blockquote>
<p>In case of <code>cbd update</code> is needed, please check the related documentation for <a href="../operations/#cloudbreak-deployer-update">Cloudbreak Deployer Update</a>. Most of the <code>cbd</code> commands require <code>root</code> permissions.</p>
</blockquote>
<ul>
<li>Started Cloudbreak Application logs.</li>
</ul>
<pre><code>   cbd logs cloudbreak
</code></pre>

<blockquote>
<p>Cloudbreak should start within a minute - you should see a line like this: <code>Started CloudbreakApplication in 36.823 seconds</code></p>
</blockquote>
<h1 id="provisioning-prerequisites">Provisioning Prerequisites</h1>
<h2 id="generate-a-new-ssh-key">Generate a new SSH key</h2>
<p>All the instances created by Cloudbreak are configured to allow key-based SSH,
so you'll need to provide an SSH public key that can be used later to SSH onto the instances in the clusters you'll create with Cloudbreak.
You can use one of your existing keys or you can generate a new one.</p>
<p>To generate a new SSH keypair:</p>
<pre><code>ssh-keygen -t rsa -b 4096 -C &quot;your_email@example.com&quot;
# Creates a new ssh key, using the provided email as a label
# Generating public/private rsa key pair.
</code></pre>

<pre><code># Enter file in which to save the key (/Users/you/.ssh/id_rsa): [Press enter]
You'll be asked to enter a passphrase, but you can leave it empty.

# Enter passphrase (empty for no passphrase): [Type a passphrase]
# Enter same passphrase again: [Type passphrase again]
</code></pre>

<p>After you enter a passphrase the keypair is generated. The output should look something like below.</p>
<pre><code># Your identification has been saved in /Users/you/.ssh/id_rsa.
# Your public key has been saved in /Users/you/.ssh/id_rsa.pub.
# The key fingerprint is:
# 01:0f:f4:3b:ca:85:sd:17:sd:7d:sd:68:9d:sd:a2:sd your_email@example.com
</code></pre>

<p>Later you'll need to pass the <code>.pub</code> file's contents to Cloudbreak and use the private part to SSH to the instances.</p>
<h1 id="provisioning-via-browser">Provisioning via Browser</h1>
<p>You can log into the Cloudbreak application at <code>http://&lt;Public_IP&gt;:3000/</code>.</p>
<p>The main goal of the Cloudbreak UI is to easily create clusters on your own cloud provider account.
This description details the OpenStack setup - if you'd like to use a different cloud provider check out its manual.</p>
<p>This document explains the four steps that need to be followed to create Cloudbreak clusters from the UI:</p>
<ul>
<li>connect your OpenStack account with Cloudbreak</li>
<li>create some template resources on the UI that describe the infrastructure of your clusters</li>
<li>create a blueprint that describes the HDP services in your clusters and add some recipes for customization</li>
<li>launch the cluster itself based on these resources</li>
</ul>
<blockquote>
<p><strong>IMPORTANT</strong> Make sure that you have sufficient qouta (CPU, network, etc) for the requested cluster size.</p>
</blockquote>
<h2 id="setting-up-openstack-credentials">Setting up OpenStack credentials</h2>
<p>Cloudbreak works by connecting your OpenStack account through so called <em>Credentials</em>, and then uses these credentials
 to create resources on your behalf. The credentials can be configured on the <strong>manage credentials</strong> panel on the 
Cloudbreak Dashboard.</p>
<p>To create a new OpenStack credential follow these steps:</p>
<ol>
<li>Select the <a href="http://docs.openstack.org/developer/keystone/http-api.html"><code>Keystone Version</code></a>. For instance, select the <code>v2</code></li>
<li>Fill out the new credential <code>Name</code><ul>
<li>Only alphanumeric and lowercase characters (min 5, max 100 characters) can be applied</li>
</ul>
</li>
<li>Copy your OpenStack user name to the <code>User</code> field</li>
<li>Copy your OpenStack user password to the <code>Password</code> field</li>
<li>Copy your OpenStack tenant name to the <code>Tenant Name</code> field</li>
<li>Copy your OpenStack identity service (Keystone) endpoint (e.g. http://PUBLIC_IP:5000/v2.0) to the <code>Endpoint</code> field</li>
<li>Copy your SSH public key to the <code>SSH public key</code> field<ul>
<li>The SSH public key must be in OpenSSH format and it's private keypair can be used later to <a href="../operations/#ssh-to-the-hosts">SSH onto every 
instance</a> of every cluster you'll create with this credential.</li>
<li>The <strong>SSH username</strong> for the OpenStack instances is <strong>centos</strong>.</li>
</ul>
</li>
</ol>
<blockquote>
<p>Any other parameter is optional here. You can read more about Keystone v3 <a href="http://developer.openstack.org/api-ref-identity-v3.html">here</a>.</p>
<p><code>Public in account</code> means that all the users belonging to your account will be able to use this credential to create 
clusters, but cannot delete it.</p>
</blockquote>
<p><img alt="" src="../images/os-credential.png" />
<sub><em>Full size <a href="../images/os-credential.png">here</a>.</em></sub></p>
<h2 id="infrastructure-templates">Infrastructure templates</h2>
<p>After your OpenStack account is linked to Cloudbreak you can start creating resource templates that describe your 
clusters' infrastructure:</p>
<ul>
<li>templates</li>
<li>networks</li>
<li>security groups</li>
</ul>
<p>When you create one of the above resource, <strong>Cloudbreak does not make any requests to OpenStack. Resources are only 
created on OpenStack after the <code>create cluster</code> button has pushed.</strong> These templates are saved to Cloudbreak's 
database and can be reused with multiple clusters to describe the infrastructure.</p>
<p><strong>Templates</strong></p>
<p>Templates describe the <strong>instances of your cluster</strong> - the instance type and the attached volumes. A typical setup is
 to combine multiple templates in a cluster for the different types of nodes. For example you may want to attach multiple
 large disks to the datanodes or have memory optimized instances for Spark nodes.</p>
<p>The instance templates can be configured on the <strong>manage templates</strong> panel on the Cloudbreak Dashboard.</p>
<p>If <code>Public in account</code> is checked all the users belonging to your account will be able to use this resource to create clusters, but cannot delete it.</p>
<p><strong>Networks</strong></p>
<p>Manage networks allows you to create or reuse existing networks and configure them.</p>
<p><code>Name:</code> name of the network</p>
<p><code>Description:</code> short description of your network</p>
<p><code>Subnet (CIDR):</code> a subnet with CIDR block under the given <code>public network</code></p>
<p><code>Public network ID:</code> id of an OpenStack public network</p>
<p>Optional parameters (reuse existing network and subnet, in case of existing subnet all 3 parameters must be provided, with new subnet only 2 required):</p>
<p><code>Virtual Network Identifier:</code> provide an id of an existing virtual network to reuse</p>
<p><code>Router Identifier:</code> id of the router which belongs to the existing virtual network (must be provided in case of existing virtual network)</p>
<p><code>Subnet Identifier:</code> id of a subnet within the existing virtual network, the provided subnet CIDR will be ignored and the existing subnet's CIDR range will be used (leave it blank if you'd like to create a new subnet within the virtual network with the provided subnet CIDR range)</p>
<p><code>Public in account:</code> share it with others in the account</p>
<p><strong>Security groups</strong></p>
<p>They describe the allowed inbound traffic to the instances in the cluster.
Currently only one security group template can be selected for a Cloudbreak cluster and all the instances have a public IP address so all the instances in the cluster will belong to the same security group.
This may change in a later release.</p>
<p>You can define your own security group by adding all the ports, protocols and CIDR range you'd like to use. 443 needs to be there in every security group otherwise Cloudbreak won't be able to communicate with the provisioned cluster. The rules defined here doesn't need to contain the internal rules, those are automatically added by Cloudbreak to the security group on OpenStack.</p>
<p>You can also use the two pre-defined security groups in Cloudbreak:</p>
<p><code>only-ssh-and-ssl:</code> all ports are locked down (you can't access Hadoop services outside of the Virtual Private Cloud) but</p>
<ul>
<li>SSH (22)</li>
<li>HTTPS (443)</li>
</ul>
<p><code>all-services-port:</code> all Hadoop services + SSH/gateway HTTPS are accessible by default:</p>
<ul>
<li>SSH (22)</li>
<li>HTTPS (443)</li>
<li>Ambari (8080)</li>
<li>Consul (8500)</li>
<li>NN (50070)</li>
<li>RM Web (8088)</li>
<li>Scheduler (8030RM)</li>
<li>IPC (8050RM)</li>
<li>Job history server (19888)</li>
<li>HBase master (60000)</li>
<li>HBase master web (60010)</li>
<li>HBase RS (16020)</li>
<li>HBase RS info (60030)</li>
<li>Falcon (15000)</li>
<li>Storm (8744)</li>
<li>Hive metastore (9083)</li>
<li>Hive server (10000)</li>
<li>Hive server HTTP (10001)</li>
<li>Accumulo master (9999)</li>
<li>Accumulo Tserver (9997)</li>
<li>Atlas (21000)</li>
<li>KNOX (8443)</li>
<li>Oozie (11000)</li>
<li>Spark HS (18080)</li>
<li>NM Web (8042)</li>
<li>Zeppelin WebSocket (9996)</li>
<li>Zeppelin UI (9995)</li>
<li>Kibana (3080)</li>
<li>Elasticsearch (9200)</li>
</ul>
<p>If <code>Public in account</code> is checked all the users belonging to your account will be able to use this security group template to create clusters, but cannot delete or modify it.</p>
<p><strong>NOTE</strong> that the security groups are <em>not created</em> on OpenStack after the <code>Create Security Group</code> button is pushed, only after the cluster provisioning starts with the selected security group template.</p>
<h2 id="defining-cluster-services">Defining cluster services</h2>
<p><strong>Manage blueprints</strong></p>
<p>Blueprints are your declarative definition of a Hadoop cluster.</p>
<p><code>Name:</code> name of your blueprint</p>
<p><code>Description:</code> short description of your blueprint</p>
<p><code>Source URL:</code> you can add a blueprint by pointing to a URL. As an example you can use this <a href="https://github.com/sequenceiq/ambari-rest-client/raw/1.6.0/src/main/resources/blueprints/multi-node-hdfs-yarn">blueprint</a>.</p>
<p><code>Manual copy:</code> you can copy paste your blueprint in this text area</p>
<p><code>Public in account:</code> share it with others in the account</p>
<p>This section describes</p>
<p><strong>Blueprints</strong></p>
<p>Blueprints are your declarative definition of a Hadoop cluster. These are the same blueprints that are <a href="https://cwiki.apache.org/confluence/display/AMBARI/Blueprints">used by Ambari</a>.</p>
<p>You can use the 3 default blueprints pre-defined in Cloudbreak or you can create your own.
Blueprints can be added from an URL or the whole JSON can be copied to the <code>Manual copy</code> field.</p>
<p>The hostgroups added in the JSON will be mapped to a set of instances when starting the cluster and the services and components defined in the hostgroup will be installed on the corresponding nodes.
It is not necessary to define all the configuration fields in the blueprints - if a configuration is missing, Ambari will fill that with a default value.
The configurations defined in the blueprint can also be modified later from the Ambari UI.</p>
<p>If <code>Public in account</code> is checked all the users belonging to your account will be able to use this blueprint to create clusters, but cannot delete or modify it.</p>
<p>A blueprint can be exported from a running Ambari cluster that can be reused in Cloudbreak with slight modifications.
There is no automatic way to modify an exported blueprint and make it instantly usable in Cloudbreak, the modifications have to be done manually.
When the blueprint is exported some configurations will have for example hardcoded domain names, or memory configurations that won't be applicable to the Cloudbreak cluster.</p>
<p><strong>Cluster customization</strong></p>
<p>Sometimes it can be useful to define some custom scripts that run during cluster creation and add some additional functionality.
For example it can be a service you'd like to install but it's not supported by Ambari or some script that automatically downloads some data to the necessary nodes.
The most notable example is Ranger setup: it has a prerequisite of a running database when Ranger Admin is installing.
A PostgreSQL database can be easily started and configured with a recipe before the blueprint installation starts.</p>
<p>To learn more about these so called <em>Recipes</em>, and to check out the Ranger database recipe, take a look at the <a href="../recipes/">Cluster customization</a> part of the documentation.</p>
<h2 id="cluster-deployment">Cluster deployment</h2>
<p>After all the templates are configured you can deploy a new HDP cluster. Start by selecting a previously created credential in the header.
Click on <code>create cluster</code>, give it a <code>Name</code>, select a <code>Region</code> where the cluster infrastructure will be provisioned and select one of the <code>Networks</code> and <code>Security Groups</code> created earlier.
After you've selected a <code>Blueprint</code> as well you should be able to configure the <code>Template resources</code> and the number of nodes for all of the hostgroups in the blueprint.</p>
<p>If <code>Public in account</code> is checked all the users belonging to your account will be able to see the newly created cluster on the UI, but cannot delete or modify it.</p>
<p>If <code>Enable security</code> is checked as well, Cloudbreak will install Key Distribution Center (KDC) and the cluster will be Kerberized. See more about it in the <a href="../kerberos/">Kerberos</a> section of this documentation.</p>
<p>After the <code>create and start cluster</code> button is pushed Cloudbreak will start to create resources on your OpenStack.</p>
<blockquote>
<p><strong>IMPORTANT</strong> Always use Cloudbreak to delete the cluster. If that fails for some reason, always try to delete via 
OpenStack Dashboard.</p>
</blockquote>
<p><strong>Advanced options</strong>:</p>
<p><code>Consul server count:</code> the number of Consul servers (add number), by default is 3. It varies with the cluster size.</p>
<p><code>Platform variant:</code> Cloudbreak provides two implementation for creating OpenStack cluster</p>
<ul>
<li><code>HEAT:</code> using heat template to create the resources</li>
<li><code>NATIVE:</code> using API calls to create the resources</li>
</ul>
<p><code>Minimum cluster size:</code> the provisioning strategy in case of the cloud provider can't allocate all the requested nodes</p>
<p><code>Validate blueprint:</code> feature to validate or not the Ambari blueprint. By default is switched on.</p>
<p><code>Config recommendation strategy:</code> Specifies the strategy for how configuration recommendations may be applied to a cluster’s configuration. Recommended configurations gathered by the response of the stack advisor. </p>
<ul>
<li><code>NEVER_APPLY:</code>               Configuration recommendations are ignored with this option.</li>
<li><code>ONLY_STACK_DEFAULTS_APPLY:</code> Applies only on the default configurations for all included services.</li>
<li><code>ALWAYS_APPLY:</code>              Applies on all configuration properties.</li>
</ul>
<p>Once you have launched the cluster creation you can track the progress either on Cloudbreak UI or your cloud provider management UI.</p>
<h2 id="next-steps">Next steps</h2>
<p>Congrats! Your cluster should now be up and running. To learn more about it we have some <a href="../operations/">interesting insights</a> about Cloudbreak clusters.</p>
<h2 id="cluster-termination">Cluster termination</h2>
<p>You can terminate running or stopped clusters with the <code>terminate</code> button in the cluster details.</p>
<p>Sometimes Cloudbreak cannot synchronize it's state with the cluster state at the cloud provider and the cluster can't be terminated. In this case with the <code>Forced termination</code> option in the termination dialog box you can terminate the cluster at the Cloudbreak side anyway. <strong>In this case you may need to manually remove resources at the cloud provider.</strong></p>
<h1 id="interactive-mode-cloudbreak-shell">Interactive mode / Cloudbreak Shell</h1>
<p>Start the shell with <code>cbd util cloudbreak-shell</code>. This will launch the Cloudbreak shell inside a Docker container and you are ready to start using it.</p>
<p>You have to copy files into the <code>cbd</code> working directory, which you would like to use from shell. For example if your <code>cbd</code> working directory is <code>~/prj/cbd</code> then copy your blueprint and public ssh key file into this directory. You can refer to these files with their names from the shell.</p>
<h3 id="create-a-cloud-credential">Create a cloud credential</h3>
<pre><code>credential create --OPENSTACK --name my-os-credential --description &quot;credentail description&quot; --userName &lt;OpenStack username&gt; --password &lt;OpenStack password&gt; --tenantName &lt;OpenStack tenant name&gt; --endPoint &lt;OpenStack Identity Service (Keystone) endpoint&gt; --sshKeyPath &lt;path of your public SSH key file&gt;
</code></pre>

<p>Alternatively you can upload your public key from an url as well, by using the <code>—sshKeyUrl</code> switch, or use the ssh string with <code>—sshKeyString</code> switch. You can check whether the credential was created successfully by using the <code>credential list</code> command. You can switch between your cloud credentials - when you’d like to use one and act with that you will have to use:</p>
<pre><code>credential select --name my-openstack-credential
</code></pre>

<h3 id="create-a-template">Create a template</h3>
<p>A template gives developers and systems administrators an easy way to create and manage a collection of cloud infrastructure related resources, maintaining and updating them in an orderly and predictable fashion. A template can be used repeatedly to create identical copies of the same stack (or to use as a foundation to start a new stack).</p>
<pre><code>template create --OPENSTACK --name ostemplate --description openstack-template --instanceType m1.large --volumeSize 100 --volumeCount 2
</code></pre>

<p>You can check whether the template was created successfully by using the <code>template list</code> or <code>template show</code> command.</p>
<p>You can delete your cloud template - when you’d like to delete one you will have to use:</p>
<pre><code>template delete --name ostemplate
</code></pre>

<h3 id="create-or-select-a-blueprint">Create or select a blueprint</h3>
<p>You can define Ambari blueprints with cloudbreak-shell:</p>
<pre><code>blueprint add --name myblueprint --description myblueprint-description --file &lt;the path of the blueprint&gt;
</code></pre>

<p>Other available options:</p>
<p><code>--url</code> the url of the blueprint</p>
<p><code>--publicInAccount</code> flags if the network is public in the account</p>
<p>We ship default Ambari blueprints with Cloudbreak. You can use these blueprints or add yours. To see the available blueprints and use one of them please use:</p>
<pre><code>blueprint list

blueprint select --name hdp-small-default
</code></pre>

<h3 id="create-a-network">Create a network</h3>
<p>A network gives developers and systems administrators an easy way to create and manage a collection of cloud infrastructure related networking, maintaining and updating them in an orderly and predictable fashion. A network can be used repeatedly to create identical copies of the same stack (or to use as a foundation to start a new stack).</p>
<pre><code>network create --OPENSTACK --name osnetwork --description openstack-network --publicNetID &lt;id of an OpenStack public network&gt; --subnet 10.0.0.0/16
</code></pre>

<p>Other available options:</p>
<p><code>--publicInAccount</code> flags if the network is public in the account</p>
<p>You can check whether the network was created successfully by using the <code>network list</code> command. Check the network and select it if you are happy with it:</p>
<pre><code>network show --name osnetwork

network select --name osnetwork
</code></pre>

<h3 id="create-a-security-group">Create a security group</h3>
<p>A security group gives developers and systems administrators an easy way to create and manage a collection of cloud infrastructure related security rules.</p>
<pre><code>securitygroup create --name secgroup_example --description securitygroup-example --rules 0.0.0.0/0:tcp:8080,9090;10.0.33.0/24:tcp:1234,1235
</code></pre>

<p>You can check whether the security group was created successfully by using the <code>securitygroup list</code> command. Check the security group and select it if you are happy with it:</p>
<pre><code>securitygroup show --name secgroup_example

securitygroup select --name secgroup_example
</code></pre>

<p>There are two default security groups defined: <code>all-services-port</code> and <code>only-ssh-and-ssl</code></p>
<p><code>only-ssh-and-ssl:</code> all ports are locked down (you can't access Hadoop services outside of the Virtual Private Cloud)</p>
<ul>
<li>SSH (22)</li>
<li>HTTPS (443)</li>
</ul>
<p><code>all-services-port:</code> all Hadoop services + SSH/gateway HTTPS are accessible by default:</p>
<ul>
<li>SSH (22)</li>
<li>HTTPS (443)</li>
<li>Ambari (8080)</li>
<li>Consul (8500)</li>
<li>NN (50070)</li>
<li>RM Web (8088)</li>
<li>Scheduler (8030RM)</li>
<li>IPC (8050RM)</li>
<li>Job history server (19888)</li>
<li>HBase master (60000)</li>
<li>HBase master web (60010)</li>
<li>HBase RS (16020)</li>
<li>HBase RS info (60030)</li>
<li>Falcon (15000)</li>
<li>Storm (8744)</li>
<li>Hive metastore (9083)</li>
<li>Hive server (10000)</li>
<li>Hive server HTTP (10001)</li>
<li>Accumulo master (9999)</li>
<li>Accumulo Tserver (9997)</li>
<li>Atlas (21000)</li>
<li>KNOX (8443)</li>
<li>Oozie (11000)</li>
<li>Spark HS (18080)</li>
<li>NM Web (8042)</li>
<li>Zeppelin WebSocket (9996)</li>
<li>Zeppelin UI (9995)</li>
<li>Kibana (3080)</li>
<li>Elasticsearch (9200)</li>
</ul>
<h3 id="configure-instance-groups">Configure instance groups</h3>
<p>You have to configure the instancegroups before the provisioning. An instancegroup is defining a group of your nodes with a specified template. Usually we create instancegroups for the hostgroups defined in the blueprints.</p>
<pre><code>instancegroup configure --instanceGroup host_group_slave_1 --nodecount 3 --templateName ostemplate
</code></pre>

<p>Other available options:</p>
<p><code>--templateId</code> Id of the template</p>
<h3 id="create-a-hadoop-cluster">Create a Hadoop cluster</h3>
<p>You are almost done - two more command and this will create your Hadoop cluster on your favorite cloud provider. Same as the API, or UI this will use your <code>credential</code>, <code>instancegroups</code>, <code>network</code>, <code>securitygroup</code>, and by using OpenStack Heat will launch a cloud stack</p>
<pre><code>stack create --name my-first-stack --region local
</code></pre>

<p>Once the <code>stack</code> is up and running (cloud provisioning is done) it will use your selected <code>blueprint</code> and install your custom Hadoop cluster with the selected components and services.</p>
<pre><code>cluster create --description &quot;my first cluster&quot;
</code></pre>

<p>You are done - you can check the progress through the Ambari UI. If you log back to Cloudbreak UI you can check the progress over there as well, and learn the IP address of Ambari.</p>
<h3 id="stoprestart-cluster-and-stack">Stop/Restart cluster and stack</h3>
<p>You have the ability to <strong>stop your existing stack then its cluster</strong> if you want to suspend the work on it.</p>
<p>Select a stack for example with its name:</p>
<pre><code>stack select --name my-stack
</code></pre>

<p>Other available option to define a stack is its <code>--id</code> (instead of the <code>--name</code>).</p>
<p>Apply the following commands to stop the previously selected stack:</p>
<pre><code>cluster stop
stack stop
</code></pre>

<blockquote>
<p><strong>IMPORTANT!</strong> The related cluster should be stopped before you can stop the stack.</p>
</blockquote>
<p>Apply the following command to <strong>restart the previously selected and stopped stack</strong>:</p>
<pre><code>stack start
</code></pre>

<p>After the selected stack has restarted, you can <strong>restart the related cluster as well</strong>:</p>
<pre><code>cluster start
</code></pre>

<h3 id="upscaledownscale-cluster-and-stack">Upscale/Downscale cluster and stack</h3>
<p>You can <strong>upscale your selected stack</strong> if you need more instances to your infrastructure:</p>
<pre><code>stack node --ADD --instanceGroup host_group_slave_1 --adjustment 6
</code></pre>

<p>Other available options:</p>
<p><code>--withClusterUpScale</code> indicates cluster upscale after stack upscale
or you can upscale the related cluster separately as well:</p>
<pre><code>cluster node --ADD --hostgroup host_group_slave_1 --adjustment 6
</code></pre>

<p>Apply the following command to <strong>downscale the previously selected stack</strong>:</p>
<pre><code>stack node --REMOVE  --instanceGroup host_group_slave_1 --adjustment -2
</code></pre>

<p>and the related cluster separately:</p>
<pre><code>cluster node --REMOVE  --hostgroup host_group_slave_1 --adjustment -2
</code></pre>

<h2 id="silent-mode">Silent mode</h2>
<p>With Cloudbreak shell you can execute script files as well. A script file contains cloudbreak shell commands and can be executed with the <code>script</code> cloudbreak shell command</p>
<pre><code>script &lt;your script file&gt;
</code></pre>

<p>or with the <code>cbd util cloudbreak-shell-quiet</code> <code>cbd</code> command:</p>
<pre><code>cbd util cloudbreak-shell-quiet &lt; example.sh
</code></pre>

<h2 id="example">Example</h2>
<p>The following example creates a hadoop cluster with <code>hdp-small-default</code> blueprint on <code>m1.large</code> instances with 2X100G attached disks on <code>osnetwork</code> network using <code>all-services-port</code> security group. You should copy your ssh public key file into your <code>cbd</code> working directory with name <code>id_rsa.pub</code> and change the <code>&lt;...&gt;</code> parts with your openstack credential and network details.</p>
<pre><code>credential create --OPENSTACK --name my-os-credential --description &quot;credentail description&quot; --userName &lt;OpenStack username&gt; --password &lt;OpenStack password&gt; --tenantName &lt;OpenStack tenant name&gt; --endPoint &lt;OpenStack Identity Service (Keystone) endpoint&gt; --sshKeyPath &lt;path of your public SSH key file&gt;
credential select --name my-os-credential
template create --OPENSTACK --name ostemplate --description openstack-template --instanceType m1.large --volumeSize 100 --volumeCount 2
blueprint select --name hdp-small-default
instancegroup configure --instanceGroup cbgateway --nodecount 1 --templateName ostemplate
instancegroup configure --instanceGroup host_group_master_1 --nodecount 1 --templateName ostemplate
instancegroup configure --instanceGroup host_group_master_2 --nodecount 1 --templateName ostemplate
instancegroup configure --instanceGroup host_group_master_3 --nodecount 1 --templateName ostemplate
instancegroup configure --instanceGroup host_group_client_1  --nodecount 1 --templateName ostemplate
instancegroup configure --instanceGroup host_group_slave_1 --nodecount 3 --templateName ostemplate
network create --OPENSTACK --name osnetwork --description openstack-network --publicNetID &lt;id of an OpenStack public network&gt; --subnet 10.0.0.0/16
network select --name osnetwork
securitygroup select --name all-services-port
stack create --name my-first-stack --region local
cluster create --description &quot;My first cluster&quot;
</code></pre>

<h2 id="next-steps_1">Next steps</h2>
<p>Congrats! Your cluster should now be up and running. To learn more about it we have some <a href="../operations/">interesting insights</a> about Cloudbreak clusters.</p>
                    <a href="https://github.com/sequenceiq/cloudbreak-docs/blob/master/docs/openstack.md" ><i class="fa fa-github"></i> Edit on GitHub </a>
                </div>
            
        </div>

        <footer class="col-md-12">
            <hr>
            
            <center>Documentation built with <a href="https://gliderlabs.com/pagebuilder">Pagebuilder</a>.</center>
        </footer>

        <script src="../js/jquery-1.10.2.min.js"></script>
        <script src="../js/bootstrap-3.0.3.min.js"></script>
        <script src="../js/highlight.pack.js"></script>
        <script>var base_url = '..';</script>
        <script data-main="../mkdocs/js/search.js" src="../mkdocs/js/require.js"></script>
        <script src="../js/base.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                        <h4 class="modal-title" id="exampleModalLabel">Search</h4>
                    </div>
                    <div class="modal-body">
                        <p>
                            From here you can search these documents. Enter
                            your search terms below.
                        </p>
                        <form role="form">
                            <div class="form-group">
                                <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query">
                            </div>
                        </form>
                        <div id="mkdocs-search-results"></div>
                    </div>
                    <div class="modal-footer">
                    </div>
                </div>
            </div>
        </div>

         <script>
           $( document ).ready(function() {
               $.getJSON("http://sequenceiq.com/cloudbreak-docs/versions.json", function(data) {
               $("#versions-dropdown").append('<li><a href="http://sequenceiq.com/cloudbreak-docs/latest">latest ('+data.latest+')</a></li>');
                $.each(data.versions, function( index, value ) {
                  $("#versions-dropdown").append('<li><a href="http://sequenceiq.com/cloudbreak-docs/'+value+'">'+value+'</a></li>');
                });
               });

               <!--AWS Table-->
               $.getJSON("../providers/aws.json", function(data) {
               $("#cloudbreak-deployer-aws-image-details").append('<br>');
               $("#cloudbreak-deployer-aws-image-details").append('<br>');
               $("#cloudbreak-deployer-aws-image-details").append('<table>');
                 $("#cloudbreak-deployer-aws-image-details").append('<col width="290">');
                 $("#cloudbreak-deployer-aws-image-details").append('<col width="290">');
                 $("#cloudbreak-deployer-aws-image-details").append('<thead>');
                  $("#cloudbreak-deployer-aws-image-details").append('<tr>');
                   $("#cloudbreak-deployer-aws-image-details").append('<th halign="center" style="font-size: 14pt;border:none;border-bottom:solid #DDDDDD 1.5pt;padding:6.0pt 6.0pt 6.0pt 6.0pt">' + "Region" + '</th>');
                   $("#cloudbreak-deployer-aws-image-details").append('<th halign="center" style="font-size: 14pt;border:none;border-bottom:solid #DDDDDD 1.5pt;padding:6.0pt 6.0pt 6.0pt 6.0pt">' + "Image Name" + '</th>');
                  $("#cloudbreak-deployer-aws-image-details").append('</tr>');
                 $("#cloudbreak-deployer-aws-image-details").append('</thead>');
                $("#cloudbreak-deployer-aws-image-details").append('<tbody>');
                 $.each(data.metadata, function( index, value ) {
                 if (index.indexOf("region.") === 0) {
                   shortIndex = index.substring(7)
                  $("#cloudbreak-deployer-aws-image-details").append('<tr>');
                   $("#cloudbreak-deployer-aws-image-details").append('<td halign="center" valign="center" text-align="left" style="font-size: 12pt;border:none;border-bottom:solid #DDDDDD 1.5pt;padding:6.0pt 6.0pt 6.0pt 6.0pt">' + shortIndex + '</td>');
                   $("#cloudbreak-deployer-aws-image-details").append('<td halign="center" valign="center" text-align="right" style="font-size: 12pt;border:none;border-bottom:solid #DDDDDD 1.5pt;padding:6.0pt 6.0pt 6.0pt 6.0pt">' + value + '</td>');
                  $("#cloudbreak-deployer-aws-image-details").append('</tr>');
                  }
                 });
                $("#cloudbreak-deployer-aws-image-details").append('</tbody>');
               $("#cloudbreak-deployer-aws-image-details").append('</table>');
               });

               <!--OpenStack CBD-->
               $.getJSON("../providers/openstack.json", function(data) {
               $("#cloudbreak-deployer-image").append('<br>');
               $("#cloudbreak-deployer-image").append('<br>');
               $("#cloudbreak-deployer-image").append('<p style="font-size: 14px;font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;line-height: 1.428571429;color: #555;">Download the latest Cloudbreak Deployer image to your local machine:</p>');
               $("#cloudbreak-deployer-image").append('<pre><code style="font-size: 12pt;color:#333333">curl -L https://atlas.hashicorp.com/api/v1/artifacts/sequenceiq/cbd/openstack.image/' + data.version + '/file | tar -xz</code></pre>');
               $("#cloudbreak-deployer-import").append('<br>');
               $("#cloudbreak-deployer-import").append('<br>');
               $("#cloudbreak-deployer-import").append('<p style="font-size: 14px;font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;line-height: 1.428571429;color: #555;">Set the following environment variables for the OpenStack image import:</p>');
               $("#cloudbreak-deployer-import").append('<pre><code style="font-size: 12px;color:#333333">export CBD_LATEST_IMAGE=</code>' + data.id + '</code></p>');
               });

               <!--OpenStack CB-->
               $.getJSON("../providers/openstack_cloudbreak.json", function(data) {
               $("#cloudbreak-image").append('<br>');
               $("#cloudbreak-image").append('<br>');
               $("#cloudbreak-image").append('<p style="font-size: 14px;font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;line-height: 1.428571429;color: #555;">Download the latest Cloudbreak image to your local machine:</p>');
               $("#cloudbreak-image").append('<pre><code style="font-size: 12pt;color:#333333">curl -L https://atlas.hashicorp.com/api/v1/artifacts/sequenceiq/cloudbreak/openstack.image/' + data.version + '/file | tar -xz</code></pre>');
               $("#cloudbreak-import").append('<br>');
               $("#cloudbreak-import").append('<br>');
               $("#cloudbreak-import").append('<p style="font-size: 14px;font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;line-height: 1.428571429;color: #555;">This is very similar to the Cloudbrek Deployer. Set the following environment variables for the OpenStack image import:</p>');
               $("#cloudbreak-import").append('<pre><code style="font-size: 12px;color:#333333">export CB_LATEST_IMAGE=</code>' + data.id + '</code></p>');
               });

               <!--GCP-->
               $.getJSON("../providers/gcp.json", function(data) {
               $("#cloudbreak-deployer-gcp-image-details").append('<br>');
               $("#cloudbreak-deployer-gcp-image-details").append('<br>');
               $("#cloudbreak-deployer-gcp-image-details").append('<pre><code style="font-size: 12pt;color:#333333">' + data.gcp.import_script + '</code></pre>');
               });
           });
         </script>
    </body>
</html>
