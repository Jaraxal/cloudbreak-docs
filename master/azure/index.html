<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        <link rel="canonical" href="http://sequenceiq.com/cloudbreak-docs/azure/">
        <link rel="shortcut icon" href="../img/favicon.ico">

	<title>Azure - Cloudbreak 1.2.0</title>

        <link href="../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../css/font-awesome-4.0.3.css" rel="stylesheet">
        <link href="../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="../css/highlight.css">

        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

        
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation" background="red">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            

            <!-- Main title -->
            <img class="navbar-logo" src="http://docs.hortonworks.com/HDPDocuments/Ambari-2.1.0.0/bk_Installing_HDP_AMB/common/images/hortonworks-logo.png" alt="Hortonworks Documentation" width="132" height="52">
            <a class="navbar-brand" href="..">Cloudbreak 1.2.0</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            
                <!-- Main navigation -->
                <ul class="nav navbar-nav">
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Home <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="..">Introduction</a>
</li>

                        
                            
<li >
    <a href="../architecture/">Architecture</a>
</li>

                        
                            
<li >
    <a href="../onprem/">Installation</a>
</li>

                        
                            
<li >
    <a href="../releasenotes/">Release Notes</a>
</li>

                        
                            
<li >
    <a href="../changelog/">Change Log</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li >
                        <a href="../aws/">AWS</a>
                    </li>
                
                
                
                    <li class="active">
                        <a href="./">Azure</a>
                    </li>
                
                
                
                    <li >
                        <a href="../gcp/">GCP</a>
                    </li>
                
                
                
                    <li >
                        <a href="../openstack/">OpenStack</a>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Reference <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../api/">API</a>
</li>

                        
                            
<li >
    <a href="../shell/">CLI/Shell</a>
</li>

                        
                            
<li >
    <a href="../ui_account/">Account Management</a>
</li>

                        
                            
<li >
    <a href="../periscope/">Auto-Scaling</a>
</li>

                        
                            
<li >
    <a href="../sssd/">SSSD configuration</a>
</li>

                        
                            
<li >
    <a href="../recipes/">Recipes</a>
</li>

                        
                            
<li >
    <a href="../blueprints/">Blueprints</a>
</li>

                        
                            
<li >
    <a href="../topologies/">Platforms/Topologies</a>
</li>

                        
                            
<li >
    <a href="../kerberos/">Kerberos</a>
</li>

                        
                            
<li >
    <a href="../spi/">SPI</a>
</li>

                        
                            
<li >
    <a href="../operations/">Operations</a>
</li>

                        
                            
<li >
    <a href="../database/">Migration</a>
</li>

                        
                            
<li >
    <a href="../configuration/">Advanced Configuration</a>
</li>

                        
                            
<li >
    <a href="../development/">Development</a>
</li>

                        
                        </ul>
                    </li>
                
                
                </ul>
            

            <ul class="nav navbar-nav navbar-right">
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Versions <b class="caret"></b></a>
                    <ul class="dropdown-menu" id="versions-dropdown">
                    </ul>
                </li>
                
                <li>
                    <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                        <i class="fa fa-search"></i> Search
                    </a>
                </li>
                
                    <li >
                        <a rel="next" href="../aws/">
                            <i class="fa fa-arrow-left"></i> Previous
                        </a>
                    </li>
                    <li >
                        <a rel="prev" href="../gcp/">
                            Next <i class="fa fa-arrow-right"></i>
                        </a>
                    </li>
                
                
                    <li>
                        <a href="https://github.com/sequenceiq/cloudbreak-docs/blob/master/docs/" >
                            
                                <i class="fa fa-github"></i>
                            
                            GitHub
                        </a>
                    </li>
                
            </ul>
        </div>
    </div>
</div>

        <div class="container">
            
                <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
    
        <li class="main active"><a href="#azure-setup">Azure Setup</a></li>
        
            <li><a href="#deploy-using-the-azure-portal">Deploy using the Azure Portal</a></li>
        
            <li><a href="#under-the-hood">Under the hood</a></li>
        
    
        <li class="main "><a href="#provisioning-prerequisites">Provisioning Prerequisites</a></li>
        
            <li><a href="#generate-a-new-ssh-key">Generate a new SSH key</a></li>
        
            <li><a href="#azure-access-setup">Azure access setup</a></li>
        
            <li><a href="#azure-application-setup-with-cloudbreak-deployer">Azure application setup with Cloudbreak Deployer</a></li>
        
            <li><a href="#filesystem-configuration">Filesystem configuration</a></li>
        
    
        <li class="main "><a href="#provisioning-via-browser">Provisioning via Browser</a></li>
        
            <li><a href="#setting-up-azure-credentials">Setting up Azure credentials</a></li>
        
            <li><a href="#infrastructure-templates">Infrastructure templates</a></li>
        
            <li><a href="#cluster-installation">Cluster installation</a></li>
        
            <li><a href="#cluster-deployment">Cluster deployment</a></li>
        
            <li><a href="#cluster-termination">Cluster termination</a></li>
        
    
        <li class="main "><a href="#interactive-mode">Interactive mode</a></li>
        
            <li><a href="#create-a-cloud-credential">Create a cloud credential</a></li>
        
            <li><a href="#create-a-template">Create a template</a></li>
        
            <li><a href="#create-or-select-a-blueprint">Create or select a blueprint</a></li>
        
            <li><a href="#create-a-network">Create a network</a></li>
        
            <li><a href="#create-a-security-group">Create a security group</a></li>
        
            <li><a href="#configure-instance-groups">Configure instance groups</a></li>
        
            <li><a href="#create-a-hadoop-cluster">Create a Hadoop cluster</a></li>
        
            <li><a href="#stoprestart-cluster-and-stack">Stop/Restart cluster and stack</a></li>
        
            <li><a href="#upscaledownscale-cluster-and-stack">Upscale/Downscale cluster and stack</a></li>
        
            <li><a href="#silent-mode">Silent mode</a></li>
        
            <li><a href="#example">Example</a></li>
        
    
    </ul>
</div></div>
                <div class="col-md-9" role="main">
                    

<h1 id="azure-setup">Azure Setup</h1>
<p>On other cloud providers you can create “public images”, while on Azure its a different process. You have to create a 
publicly available virtual disk image (VHDI), which has to be downloaded and imported 
into a storage account.</p>
<p>Based on our experience usually it takes about 30-60 minutes until it gets copied and you can log into the VM.
Therefore we provide a much easier way to launch Cludbreak Deployer based on the new <a href="https://github.com/Azure/azure-quickstart-templates">Azure Resource Manager 
Templates</a>.</p>
<h2 id="deploy-using-the-azure-portal">Deploy using the Azure Portal</h2>
<p>It is as simple as clicking here: <a href="https://portal.azure.com/#create/Microsoft.Template/uri/https%3A%2F%2Fraw.githubusercontent.com%2Fsequenceiq%2Fazure-cbd-quickstart%2Fmaster%2Fazuredeploy.json">  <img alt="deploy on azure" src="http://azuredeploy.net/deploybutton.png" /> </a></p>
<p><strong>The following parameters are mandatory to be set (beyond to the default values) for the new CBD Template!</strong></p>
<p>On the <code>Custom deployment</code> panel:</p>
<ul>
<li>Please create a new <code>Resource group</code></li>
<li>Select an appropriate <code>Resource group location</code></li>
</ul>
<p>On the <code>Parameters</code> panel:</p>
<ul>
<li>Select the same <code>LOCATION</code> as for the resource group</li>
<li><code>PASSWORD</code> must be between 6-72 characters long and must satisfy 
  at least 3 of password complexity requirements from the following:<ul>
<li>Contains an uppercase character</li>
<li>Contains a lowercase character</li>
<li>Contains a numeric digit</li>
<li>Contains a special character</li>
</ul>
</li>
</ul>
<p>Finally you should review the <code>Legal terms</code> on the <code>Custom deployment</code> panel:</p>
<ul>
<li>If you agree with the terms and conditions, just click on <code>Create</code> 
button of this pane</li>
<li>Also click on the <code>Create</code> button on the <code>Custom deployment</code> </li>
</ul>
<blockquote>
<p>Deployment takes about <strong>15-20 minutes</strong>. You can track the 
progress on the resource group details. If any issue has occurred, open the <code>Audit logs</code> from the settings. 
We have faced an interesting behaviour on the Azure Portal: <a href="https://github.com/Azure/azure-quickstart-templates/issues/1294">All operations were successful on template deployment, 
but overall fail</a>.</p>
</blockquote>
<ul>
<li>Once it's successful done, you can reach the Cloudbreak UI 
at:<code>http://&lt;VM Public IP&gt;:3000/</code></li>
</ul>
<p><strong>Optional:</strong> You can SSH to the VM and track the progress in the 
Cloudbreak logs (<code>cbd logs cloudbreak</code>):</p>
<ul>
<li>Cloudbreak Deployer location is <code>/var/lib/cloudbreak-deployment</code></li>
<li>All cbd actions must be performed as root</li>
<li>All cbd actions must be executed from the cbd folder:
    <code>cloudbreak@cbdeployerVM:/var/lib/cloudbreak-deployment# cbd logs cloudbreak</code></li>
</ul>
<h2 id="under-the-hood">Under the hood</h2>
<p>Meanwhile Azure is creating the deployment, here is some information about what happens in the background:</p>
<ul>
<li>Start an instance from the official CentOS image<ul>
<li>So no custom image copy is needed, which would take about 30 
   minutes</li>
</ul>
</li>
<li>Use <a href="https://github
.com/Azure/azure-docker-extension">Docker VM Extension</a> to install Docker</li>
<li>Use <a href="https://github
.com/Azure/azure-linux-extensions/tree/master/CustomScript">CustomScript Extension</a> to install 
Cloudbreak Deployer (cbd)</li>
</ul>
<h1 id="provisioning-prerequisites">Provisioning Prerequisites</h1>
<p>We use the new <a href="https://azure.microsoft.com/en-us/documentation/articles/resource-group-overview/">Azure ARM</a> in 
order to launch clusters. In order to work we need to create an <strong>Active Directory</strong> application with the configured name and password and adds the permissions that are needed to call the Azure Resource Manager API. Cloudbreak deployer automates all this for you.</p>
<h2 id="generate-a-new-ssh-key">Generate a new SSH key</h2>
<p>All the instances created by Cloudbreak are configured to allow key-based SSH,
so you'll need to provide an SSH public key that can be used later to SSH onto the instances in the clusters you'll create with Cloudbreak.
You can use one of your existing keys or you can generate a new one.</p>
<p>To generate a new SSH keypair:</p>
<pre><code>ssh-keygen -t rsa -b 4096 -C &quot;your_email@example.com&quot;
# Creates a new ssh key, using the provided email as a label
# Generating public/private rsa key pair.
</code></pre>

<pre><code># Enter file in which to save the key (/Users/you/.ssh/id_rsa): [Press enter]
You'll be asked to enter a passphrase, but you can leave it empty.

# Enter passphrase (empty for no passphrase): [Type a passphrase]
# Enter same passphrase again: [Type passphrase again]
</code></pre>

<p>After you enter a passphrase the keypair is generated. The output should look something like below.</p>
<pre><code># Your identification has been saved in /Users/you/.ssh/id_rsa.
# Your public key has been saved in /Users/you/.ssh/id_rsa.pub.
# The key fingerprint is:
# 01:0f:f4:3b:ca:85:sd:17:sd:7d:sd:68:9d:sd:a2:sd your_email@example.com
</code></pre>

<p>Later you'll need to pass the <code>.pub</code> file's contents to Cloudbreak and use the private part to SSH to the instances.</p>
<h2 id="azure-access-setup">Azure access setup</h2>
<p>If you do not have an <strong>Active Directory</strong> user then you have to configure it before deploying a cluster with Cloudbreak.</p>
<ol>
<li>
<p>Go to <code>manage.windowsazure.com</code> &gt; <code>Active Directory</code>
<img alt="" src="../images/azure1.png" /></p>
</li>
<li>
<p>You can configure your AD users on <code>Your active directory</code> &gt; <code>Users</code> menu
<img alt="" src="../images/azure2.png" /></p>
</li>
<li>
<p>Here you can add the new user to AD. Simply click on <code>Add User</code> on the bottom of the page
<img alt="" src="../images/azure3.png" /></p>
</li>
<li>
<p>Type the new user name into the box
<img alt="" src="../images/azure4.png" /></p>
</li>
<li>
<p>You will see the new user in the list. You have got a temporary password so you have to change it before you start using the new user.
<img alt="" src="../images/azure5.png" /></p>
</li>
<li>
<p>After you add the user to the AD you need to add your AD user to the <code>manage.windowsazure.com</code> &gt; <code>Settings</code> &gt; <code>Administrators</code>
<img alt="" src="../images/azure6.png" /></p>
</li>
<li>
<p>Here you can add the new user to Administrators. Simply click on <code>Add</code> on the bottom of the page
<img alt="" src="../images/azure7.png" /></p>
</li>
</ol>
<h2 id="azure-application-setup-with-cloudbreak-deployer">Azure application setup with Cloudbreak Deployer</h2>
<p>In order for Cloudbreak to be able to launch clusters on Azure on your behalf you need to set up your <strong>Azure ARM application</strong>. We have automated the Azure configurations in the Cloudbreak Deployer (CBD). After CBD has been installed, simply run the following command:</p>
<pre><code>cbd azure configure-arm --app_name myapp --app_password password123 --subscription_id 1234-abcd-efgh-1234
</code></pre>

<p><em>Options:</em></p>
<p><strong>--app_name</strong>: Your application name. Default is <em>app</em>.</p>
<p><strong>--app_password</strong>: Your application password. Default is <em>password</em>.</p>
<p><strong>--subscription_id</strong>: Your Azure subscription ID.</p>
<p><strong>--username</strong>: Your Azure username.</p>
<p><strong>--password</strong>: Your Azure password.</p>
<p>The command first creates an Active Directory application with the configured name and password and adds the permissions that are needed to call the Azure Resource Manager API.
Please use the output of the command when you creating your Azure credential in Cloudbreak.
The output of the command something like this:</p>
<pre><code>Subscription ID: sdf324-26b3-sdf234-ad10-234dfsdfsd
App ID: 234sdf-c469-sdf234-9062-dsf324
Password: password123
App Owner Tenant ID: sdwerwe1-d98e-dsf12-dsf123-df123232
</code></pre>

<h2 id="filesystem-configuration">Filesystem configuration</h2>
<p>When starting a cluster with Cloudbreak on Azure, the default filesystem is “Windows Azure Blob Storage”. Hadoop has built-in support for the <a href="https://hadoop.apache.org/docs/current/hadoop-azure/index.html">WASB filesystem</a> so it can be used easily as HDFS instead of disks.</p>
<h3 id="disks-and-blob-storage">Disks and blob storage</h3>
<p>In Azure every data disk attached to a virtual machine <a href="https://azure.microsoft.com/en-us/documentation/articles/virtual-machines-disks-vhds/">is stored</a> as a virtual hard disk (VHD) in a page blob inside an Azure storage account. Because these are not local disks and the operations must be done on the VHD files it causes degraded performance when used as HDFS.
When WASB is used as a Hadoop filesystem the files are full-value blobs in a storage account. It means better performance compared to the data disks and the WASB filesystem can be configured very easily but Azure storage accounts have their own <a href="https://azure.microsoft.com/en-us/documentation/articles/azure-subscription-service-limits/#storage-limits">limitations</a> as well. There is a space limitation for TB per storage account (500 TB) as well but the real bottleneck is the total request rate that is only 20000 IOPS where Azure will start to throw errors when trying to do an I/O operation.
To bypass those limits Microsoft created a small service called <a href="https://github.com/MicrosoftDX/Dash">DASH</a>. DASH itself is a service that imitates the API of the Azure Blob Storage API and it can be deployed as a Microsoft Azure Cloud Service. Because its API is the same as the standard blob storage API it can be used <em>almost</em> in the same way as the default WASB filesystem from a Hadoop deployment.
DASH works by sharding the storage access across multiple storage accounts. It can be configured to distribute storage account load to at most 15 <strong>scaleout</strong> storage accounts. It needs one more <strong>namespace</strong> storage account where it keeps track of where the data is stored.
When configuring a WASB filesystem with Hadoop, the only required config entries are the ones where the access details are described. To access a storage account Azure generates an access key that is displayed on the Azure portal or can be queried through the API while the account name is the name of the storage account itself. A DASH service has a similar account name and key, those can be configured in the configuration file while deploying the cloud service.</p>
<p><img alt="" src="../diagrams/dash.png" /></p>
<h3 id="deploying-a-dash-service-with-cloudbreak-deployer">Deploying a DASH service with Cloudbreak deployer</h3>
<p>We have automated the deployment of a DASH service in cloudbreak-deployer. After cbd is installed, simply run the following command to deploy a DASH cloud service with 5 scale out storage accounts:</p>
<pre><code>cbd azure deploy-dash --accounts 5 --prefix dash --location &quot;West Europe&quot; --instances 3
</code></pre>

<p>The command first creates the namespace account and the scaleout storage accounts, builds the <em>.cscfg</em> configuration file based on the created storage account names and keys, generates an Account Name and an Account Key for the DASH service and finally deploys the cloud service package file to a new cloud service.</p>
<p>The WASB filesystem configured with DASH can be used as a data lake - when multiple clusters are deployed with the same DASH filesystem configuration the same data can be accessed from all the clusters, but every cluster can have a different service configured as well. In that case deploy as many DASH services with CBD as clusters with Cloudbreak and configure them accordingly.</p>
<h3 id="containers-within-the-storage-account">Containers within the storage account</h3>
<p>Cloudbreak creates a new container in the configured storage account for each cluster with the following name pattern: cloudbreak-UNIQUE_ID. Re-using existing containers in the same account is not supported as dirty data can lead to failing cluster installations. In order to take advantage of the WASB filesystem your data does not have to be in the same storage account nor in the same container. You can add as many accounts as you wish through Ambari, by setting the properties described <a href="https://hadoop.apache.org/docs/stable/hadoop-azure/index.html">here</a>. Once you added the appropriate properties you can use those storage accounts with the pre-existing data, like:</p>
<pre><code>hadoop fs -ls wasb://data@youraccount.blob.core.windows.net/terasort-input/
</code></pre>

<blockquote>
<p><strong>IMPORTANT:</strong> Make sure that your cloud account can launch instances using the new Azure ARM *(a.k.a. V2) API and you have sufficient qouta (CPU, network, etc) for the requested cluster size.</p>
</blockquote>
<h1 id="provisioning-via-browser">Provisioning via Browser</h1>
<p>You can log into the Cloudbreak application at http://PUBLIC_IP:3000.</p>
<p>The main goal of the Cloudbreak UI is to easily create clusters on your own cloud provider account.
This description details the AZURE setup - if you'd like to use a different cloud provider check out its manual.</p>
<p>This document explains the four steps that need to be followed to create Cloudbreak clusters from the UI:</p>
<ul>
<li>connect your AZURE account with Cloudbreak</li>
<li>create some template resources on the UI that describe the infrastructure of your clusters</li>
<li>create a blueprint that describes the HDP services in your clusters and add some recipes for customization</li>
<li>launch the cluster itself based on these template resources</li>
</ul>
<h2 id="setting-up-azure-credentials">Setting up Azure credentials</h2>
<p>If you do not have an Azure Resource manager application you can simply create it with Cloudbreak deployer. Please read the Provisioning prerequisites for more information.</p>
<p><code>Name:</code> name of your credential</p>
<p><code>Description:</code> short description of your linked credential</p>
<p><code>Subscription Id:</code> your Azure subscription id - see Accounts (<code>portal.azure.com</code>&gt; <code>Browse all</code>&gt; <code>Subscription</code>)</p>
<p><code>Password:</code> your password which was setted up when you create the AD app</p>
<p><code>App Id:</code> You app Id (<code>portal.azure.com</code>&gt; <code>Browse all</code>&gt; <code>Subscription</code>&gt; <code>Subscription detail</code>&gt; <code>Users</code>&gt; <code>You application</code>&gt; <code>Properties</code>)</p>
<p><code>App Owner Tenant Id:</code> You Tenant Id (<code>portal.azure.com</code>&gt; <code>Browse all</code>&gt; <code>Subscription</code>&gt; <code>Subscription detail</code>&gt; <code>Users</code>&gt; <code>You application</code>&gt; <code>Properties</code>)</p>
<p><code>SSH public key:</code> the SSH public key in OpenSSH format that's private keypair can be used to <a href="http://sequenceiq.com/cloudbreak-deployer/1.1.0/insights/#ssh-to-the-host">log into the launched instances</a> later</p>
<blockquote>
<p>Cloudbreak is supporting simple rsa public key instead of X509 certificate file after 1.0.4 version</p>
</blockquote>
<p>The ssh username is <strong>cloudbreak</strong></p>
<h2 id="infrastructure-templates">Infrastructure templates</h2>
<p>After your AZURE account is linked to Cloudbreak you can start creating templates that describe your clusters' infrastructure:</p>
<ul>
<li>resources</li>
<li>networks</li>
<li>security groups</li>
</ul>
<p>When you create a template, Cloudbreak <em>doesn't make any requests</em> to AZURE.
Resources are only created on AZURE after the <code>create cluster</code> button is pushed.
These templates are saved to Cloudbreak's database and can be reused with multiple clusters to describe the infrastructure.</p>
<p><strong>Manage resources</strong></p>
<p>Using manage resources you can create infrastructure templates. Templates describes the infrastructure where the HDP cluster will be provisioned. We support heterogenous clusters - this means that one cluster can be built by combining different templates.</p>
<p><code>Name:</code> name of your template</p>
<p><code>Description:</code> short description of your template</p>
<p><code>Instance type:</code> the Azure instance type to be used</p>
<p><code>Attached volumes per instance:</code> the number of disks to be attached</p>
<p><code>Volume size (GB):</code> the size of the attached disks (in GB)</p>
<p><code>Public in account:</code> share it with others in the account</p>
<p><strong>Manage blueprints</strong></p>
<p>Blueprints are your declarative definition of a Hadoop cluster.</p>
<p><code>Name:</code> name of your blueprint</p>
<p><code>Description:</code> short description of your blueprint</p>
<p><code>Source URL:</code> you can add a blueprint by pointing to a URL. As an example you can use this <a href="https://raw.githubusercontent.com/sequenceiq/cloudbreak/master/core/src/main/resources/defaults/blueprints/multi-node-hdfs-yarn.bp">blueprint</a>.</p>
<p><code>Manual copy:</code> you can copy paste your blueprint in this text area</p>
<p><code>Public in account:</code> share it with others in the account</p>
<p><strong>Manage networks</strong></p>
<p>Manage networks allows you to create or reuse existing networks and configure them.</p>
<p><code>Name:</code> name of the network</p>
<p><code>Description:</code> short description of your network</p>
<p><code>Subnet (CIDR):</code> a subnet in the VPC with CIDR block</p>
<p><code>Address prefix (CIDR):</code> the address space that is used for subnets</p>
<p>Optional parameters (reuse existing network and subnet, in this case all 3 parameters must be provided as well, changes the security group's behavior described in security group section):</p>
<p><code>Resource Group Identifier:</code> name of an existing resource group which is used in case of existing virtual network and subnet</p>
<p><code>Virtual Network Identifier:</code> name of the virutal network within the selected resource group</p>
<p><code>Subnet Identifier:</code> name of the subnet within the selected virtual network (the provided subnet CIDR will be ignored and the existing subnet's CIDR range will be used)</p>
<p><code>Public in account:</code> share it with others in the account</p>
<p><strong>Security groups</strong></p>
<p>They describe the allowed inbound traffic to the instances in the cluster.
Currently only one security group template can be selected for a Cloudbreak cluster and all the instances have a public IP address so all the instances in the cluster will belong to the same security group. If you choose to deploy your cluster into and existing network and subnet the security group won't be created, because only 1 security group can be assigned to a subnet. However the security rules defined in the selected security group will be applied to the gateway instance.
This may change in a later release.</p>
<p>You can define your own security group by adding all the ports, protocols and CIDR range you'd like to use. 443 needs to be there in every security group otherwise Cloudbreak won't be able to communicate with the provisioned cluster. The rules defined here doesn't need to contain the internal rules, those are automatically added by Cloudbreak to the security group on Azure.</p>
<p>You can also use the two pre-defined security groups in Cloudbreak:</p>
<p><code>only-ssh-and-ssl:</code> all ports are locked down except for SSH and gateway HTTPS (you can't access Hadoop services outside of the VPC):</p>
<ul>
<li>SSH (22)</li>
<li>HTTPS (443)</li>
</ul>
<p><code>all-services-port:</code> all Hadoop services and SSH/gateway HTTPS are accessible by default:</p>
<ul>
<li>SSH (22)</li>
<li>HTTPS (443)</li>
<li>Ambari (8080)</li>
<li>Consul (8500)</li>
<li>NN (50070)</li>
<li>RM Web (8088)</li>
<li>Scheduler (8030RM)</li>
<li>IPC (8050RM)</li>
<li>Job history server (19888)</li>
<li>HBase master (60000)</li>
<li>HBase master web (60010)</li>
<li>HBase RS (16020)</li>
<li>HBase RS info (60030)</li>
<li>Falcon (15000)</li>
<li>Storm (8744)</li>
<li>Hive metastore (9083)</li>
<li>Hive server (10000)</li>
<li>Hive server HTTP (10001)</li>
<li>Accumulo master (9999)</li>
<li>Accumulo Tserver (9997)</li>
<li>Atlas (21000)</li>
<li>KNOX (8443)</li>
<li>Oozie (11000)</li>
<li>Spark HS (18080)</li>
<li>NM Web (8042)</li>
<li>Zeppelin WebSocket (9996)</li>
<li>Zeppelin UI (9995)</li>
<li>Kibana (3080)</li>
<li>Elasticsearch (9200)</li>
</ul>
<p>If <code>Public in account</code> is checked all the users belonging to your account will be able to use this security group template to create clusters, but cannot delete or modify it.</p>
<blockquote>
<p>Note that the security groups are <em>not created</em> on AZURE after the <code>Create Security Group</code> button is pushed, only 
after the cluster provisioning starts with the selected security group template.</p>
</blockquote>
<h2 id="cluster-installation">Cluster installation</h2>
<p>This section describes</p>
<p><strong>Blueprints</strong></p>
<p>Blueprints are your declarative definition of a Hadoop cluster. These are the same blueprints that are <a href="https://cwiki.apache.org/confluence/display/AMBARI/Blueprints">used by Ambari</a>.</p>
<p>You can use the 3 default blueprints pre-defined in Cloudbreak or you can create your own.
Blueprints can be added from an URL or the whole JSON can be copied to the <code>Manual copy</code> field.</p>
<p>The hostgroups added in the JSON will be mapped to a set of instances when starting the cluster and the services and components defined in the hostgroup will be installed on the corresponding nodes.
It is not necessary to define all the configuration fields in the blueprints - if a configuration is missing, Ambari will fill that with a default value.
The configurations defined in the blueprint can also be modified later from the Ambari UI.</p>
<p>If <code>Public in account</code> is checked all the users belonging to your account will be able to use this blueprint to create clusters, but cannot delete or modify it.</p>
<p>A blueprint can be exported from a running Ambari cluster that can be reused in Cloudbreak with slight modifications.
There is no automatic way to modify an exported blueprint and make it instantly usable in Cloudbreak, the modifications have to be done manually.
When the blueprint is exported some configurations will have for example hardcoded domain names, or memory configurations that won't be applicable to the Cloudbreak cluster.</p>
<p><strong>Cluster customization</strong></p>
<p>Sometimes it can be useful to define some custom scripts that run during cluster creation and add some additional functionality.
For example it can be a service you'd like to install but it's not supported by Ambari or some script that automatically downloads some data to the necessary nodes.
The most notable example is Ranger setup: it has a prerequisite of a running database when Ranger Admin is installing.
A PostgreSQL database can be easily started and configured with a recipe before the blueprint installation starts.</p>
<p>To learn more about these so called <em>Recipes</em>, and to check out the Ranger database recipe, take a look at the <a href="../recipes/">Cluster customization</a> part of the documentation.</p>
<h2 id="cluster-deployment">Cluster deployment</h2>
<p>After all the templates are configured you can deploy a new HDP cluster. Start by selecting a previously created credential in the header.
Click on <code>create cluster</code>, give it a <code>Name</code>, select a <code>Region</code> where the cluster infrastructure will be provisioned and select one of the <code>Networks</code> and <code>Security Groups</code> created earlier.
After you've selected a <code>Blueprint</code> as well you should be able to configure the <code>Template resources</code> and the number of nodes for all of the hostgroups in the blueprint.</p>
<p>If <code>Public in account</code> is checked all the users belonging to your account will be able to see the newly created cluster on the UI, but cannot delete or modify it.</p>
<p>If <code>Enable security</code> is checked as well, Cloudbreak will install KDC and the cluster will be Kerberized. See more about it in the <a href="../kerberos/">Kerberos</a> section of this documentation.</p>
<p>After the <code>create and start cluster</code> button is pushed Cloudbreak will start to create resources on your AZURE account.
Cloudbreak uses <em>ARM template</em> to create the resources - you can check out the resources created by Cloudbreak on the <a href="https://portal.azure.com">ARM Portal</a> on the 'Resource groups' page.</p>
<blockquote>
<p><strong>Important</strong> Always use Cloudbreak to delete the cluster, or if that fails for some reason always try to delete 
the ARM first.</p>
</blockquote>
<p><strong>Advanced options</strong></p>
<p>There are some advanced features when deploying a new cluster, these are the following:</p>
<p><code>File system:</code> read more Deploying a DASH service with Cloudbreak deployer in the preprovisioning section</p>
<p><code>Minimum cluster size:</code> the provisioning strategy in case of the cloud provider can't allocate all the requested nodes</p>
<p><code>Validate blueprint:</code> feature to validate or not the Ambari blueprint. By default is switched on.</p>
<p>Congrats! Your cluster should now be up and running. To learn more about it we have some <a href="../operations/">interesting insights</a> about Cloudbreak clusters.</p>
<h2 id="cluster-termination">Cluster termination</h2>
<p>You can terminate running or stopped clusters with the <code>terminate</code> button in the cluster details.</p>
<p>Sometimes Cloudbreak cannot synchronize it's state with the cluster state at the cloud provider and the cluster can't be terminated. In this case with the <code>Forced termination</code> option in the termination dialog box you can terminate the cluster at the Cloudbreak side anyway. <strong>In this case you may need to manually remove resources at the cloud provider.</strong></p>
<h1 id="interactive-mode">Interactive mode</h1>
<p>Start the shell with <code>cbd util cloudbreak-shell</code>. This will launch the Cloudbreak shell inside a Docker container and you are ready to start using it.</p>
<p>You have to copy files into the cbd working directory, which you would like to use from shell. For example if your <code>cbd</code> working directory is <code>~/prj/cbd</code> then copy your blueprint and public ssh key file into this directory. You can refer to these files with their names from the shell.</p>
<h3 id="create-a-cloud-credential">Create a cloud credential</h3>
<pre><code>credential create --AZURE --description &quot;credential description&quot; --name myazurecredential --subscriptionId &lt;your Azure subscription id&gt; --appId &lt;your Azure application id&gt; --tenantId &lt;your tenant id&gt; --password &lt;your Azure application password&gt; --sshKeyPath &lt;path of your public SSH key file&gt;
</code></pre>

<blockquote>
<p>Cloudbreak is supporting simple rsa public key instead of X509 certificate file after 1.0.4 version</p>
</blockquote>
<p>Alternatively you can upload your public key from an url as well, by using the <code>—sshKeyUrl</code> switch, or use the ssh string with <code>—sshKeyString</code> switch. You can check whether the credential was creates successfully by using the <code>credential list</code> command.
You can switch between your cloud credential - when you’d like to use one and act with that you will have to use:</p>
<pre><code>credential select --name myazurecredential
</code></pre>

<p>You can delete your cloud credential - when you’d like to delete one you will have to use:</p>
<pre><code>credential delete --name myazurecredential
</code></pre>

<p>You can show your cloud credential - when you’d like to show one you will have to use:</p>
<pre><code>credential show --name myazurecredential
</code></pre>

<h3 id="create-a-template">Create a template</h3>
<p>A template gives developers and systems administrators an easy way to create and manage a collection of cloud infrastructure related resources, maintaining and updating them in an orderly and predictable fashion. A template can be used repeatedly to create identical copies of the same stack (or to use as a foundation to start a new stack).</p>
<pre><code>template create --AZURE --name azuretemplate --description azure-template --instanceType STANDARD_D3 --volumeSize 100 --volumeCount 2
</code></pre>

<p>You can check whether the template was created successfully by using the <code>template list</code> or <code>template show</code> command.</p>
<p>You can delete your cloud template - when you’d like to delete one you will have to use:</p>
<pre><code>template delete --name azuretemplate
</code></pre>

<h3 id="create-or-select-a-blueprint">Create or select a blueprint</h3>
<p>You can define Ambari blueprints with cloudbreak-shell:</p>
<pre><code>blueprint add --name myblueprint --description myblueprint-description --file &lt;the path of the blueprint&gt;
</code></pre>

<p>Other available options:</p>
<p><code>--url</code> the url of the blueprint</p>
<p><code>--publicInAccount</code> flags if the network is public in the account</p>
<p>We ship default Ambari blueprints with Cloudbreak. You can use these blueprints or add yours. To see the available blueprints and use one of them please use:</p>
<pre><code>blueprint list

blueprint select --name hdp-small-default
</code></pre>

<h3 id="create-a-network">Create a network</h3>
<p>A network gives developers and systems administrators an easy way to create and manage a collection of cloud infrastructure related networking, maintaining and updating them in an orderly and predictable fashion. A network can be used repeatedly to create identical copies of the same stack (or to use as a foundation to start a new stack).</p>
<pre><code>network create --AZURE --name azurenetwork --description azure-network --subnet 10.0.0.0/16 --addressPrefix 10.0.0.0/8
</code></pre>

<p>Other available options:</p>
<p><code>--publicInAccount</code> flags if the network is public in the account</p>
<p>There is a default network with name <code>default-azure-network</code> with 10.0.0.0/16 subnet and 10.0.0.0/8 addressPrefix.</p>
<p>You can check whether the network was created successfully by using the <code>network list</code> command. Check the network and select it if you are happy with it:</p>
<pre><code>network show --name azurenetwork

network select --name azurenetwork
</code></pre>

<h3 id="create-a-security-group">Create a security group</h3>
<p>A security group gives developers and systems administrators an easy way to create and manage a collection of cloud infrastructure related security rules.</p>
<pre><code>securitygroup create --name secgroup_example --description securitygroup-example --rules 0.0.0.0/0:tcp:8080,9090;10.0.33.0/24:tcp:1234,1235
</code></pre>

<p>You can check whether the security group was created successfully by using the <code>securitygroup list</code> command. Check the security group and select it if you are happy with it:</p>
<pre><code>securitygroup show --name secgroup_example

securitygroup select --name secgroup_example
</code></pre>

<p>There are two default security groups defined: <code>all-services-port</code> and <code>only-ssh-and-ssl</code></p>
<p><code>only-ssh-and-ssl:</code> all ports are locked down (you can't access Hadoop services outside of the VPC)</p>
<ul>
<li>SSH (22)</li>
<li>HTTPS (443)</li>
</ul>
<p><code>all-services-port:</code> all Hadoop services + SSH/HTTP are accessible by default:</p>
<ul>
<li>SSH (22)</li>
<li>HTTPS (443)</li>
<li>Ambari (8080)</li>
<li>Consul (8500)</li>
<li>NN (50070)</li>
<li>RM Web (8088)</li>
<li>Scheduler (8030RM)</li>
<li>IPC (8050RM)</li>
<li>Job history server (19888)</li>
<li>HBase master (60000)</li>
<li>HBase master web (60010)</li>
<li>HBase RS (16020)</li>
<li>HBase RS info (60030)</li>
<li>Falcon (15000)</li>
<li>Storm (8744)</li>
<li>Hive metastore (9083)</li>
<li>Hive server (10000)</li>
<li>Hive server HTTP (10001)</li>
<li>Accumulo master (9999)</li>
<li>Accumulo Tserver (9997)</li>
<li>Atlas (21000)</li>
<li>KNOX (8443)</li>
<li>Oozie (11000)</li>
<li>Spark HS (18080)</li>
<li>NM Web (8042)</li>
<li>Zeppelin WebSocket (9996)</li>
<li>Zeppelin UI (9995)</li>
<li>Kibana (3080)</li>
<li>Elasticsearch (9200)</li>
</ul>
<h3 id="configure-instance-groups">Configure instance groups</h3>
<p>You have to configure the instancegroups before the provisioning. An instancegroup is defining a group of your nodes with a specified template. Usually we create instancegroups for the hostgroups defined in the blueprints.</p>
<pre><code>instancegroup configure --instanceGroup host_group_slave_1 --nodecount 3 --templateName minviable-azure
</code></pre>

<p>Other available options:</p>
<p><code>--templateId</code> Id of the template</p>
<h3 id="create-a-hadoop-cluster">Create a Hadoop cluster</h3>
<p>You are almost done - two more command and this will create your Hadoop cluster on your favorite cloud provider. Same as the API, or UI this will use your <code>credential</code>, <code>instancegroups</code>, <code>network</code>, <code>securitygroup</code>, and by using Azure ResourceManager will launch a cloud stack</p>
<pre><code>stack create --name my-first-stack --region WEST_US
</code></pre>

<p>Once the <code>stack</code> is up and running (cloud provisioning is done) it will use your selected <code>blueprint</code> and install your custom Hadoop cluster with the selected components and services.</p>
<pre><code>cluster create --description &quot;my first cluster&quot;
</code></pre>

<p>You are done - you can check the progress through the Ambari UI. If you log back to Cloudbreak UI you can check the progress over there as well, and learn the IP address of Ambari.</p>
<h3 id="stoprestart-cluster-and-stack">Stop/Restart cluster and stack</h3>
<p>You have the ability to <strong>stop your existing stack then its cluster</strong> if you want to suspend the work on it.</p>
<p>Select a stack for example with its name:</p>
<pre><code>stack select --name my-stack
</code></pre>

<p>Other available option to define a stack is its <code>--id</code> (instead of the <code>--name</code>).</p>
<p>Apply the following commands to stop the previously selected stack:</p>
<pre><code>cluster stop
stack stop
</code></pre>

<blockquote>
<p><strong>Important!</strong> The related cluster should be stopped before you can stop the stack.</p>
</blockquote>
<p>Apply the following command to <strong>restart the previously selected and stopped stack</strong>:</p>
<pre><code>stack start
</code></pre>

<p>After the selected stack has restarted, you can <strong>restart the related cluster as well</strong>:</p>
<pre><code>cluster start
</code></pre>

<h3 id="upscaledownscale-cluster-and-stack">Upscale/Downscale cluster and stack</h3>
<p>You can <strong>upscale your selected stack</strong> if you need more instances to your infrastructure:</p>
<pre><code>stack node --ADD --instanceGroup host_group_slave_1 --adjustment 6
</code></pre>

<p>Other available options:</p>
<p><code>--withClusterUpScale</code> indicates cluster upscale after stack upscale
or you can upscale the related cluster separately as well:</p>
<pre><code>cluster node --ADD --hostgroup host_group_slave_1 --adjustment 6
</code></pre>

<p>Apply the following command to <strong>downscale the previously selected stack</strong>:</p>
<pre><code>stack node --REMOVE  --instanceGroup host_group_slave_1 --adjustment -2
</code></pre>

<p>and the related cluster separately:</p>
<pre><code>cluster node --REMOVE  --hostgroup host_group_slave_1 --adjustment -2
</code></pre>

<h2 id="silent-mode">Silent mode</h2>
<p>With Cloudbreak shell you can execute script files as well. A script file contains cloudbreak shell commands and can be executed with the <code>script</code> cloudbreak shell command</p>
<pre><code>script &lt;your script file&gt;
</code></pre>

<p>or with the <code>cbd util cloudbreak-shell-quiet</code> cbd command:</p>
<pre><code>cbd util cloudbreak-shell-quiet &lt; example.sh
</code></pre>

<h2 id="example">Example</h2>
<p>The following example creates a hadoop cluster with <code>hdp-small-default</code> blueprint on STANDARD_D3 instances with 2X100G attached disks on <code>default-azure-network</code> network using <code>all-services-port</code> security group. You should copy your ssh public key file into your cbd working directory with name <code>id_rsa.pub</code> and change the <code>&lt;...&gt;</code> parts with your azure credential details.</p>
<pre><code>credential create --AZURE --description &quot;credential description&quot; --name myazurecredential --subscriptionId &lt;your Azure subscription id&gt; --appId &lt;your Azure application id&gt; --tenantId &lt;your tenant id&gt; --password &lt;your Azure application password&gt; --sshKeyPath id_rsa.pub
credential select --name myazurecredential
template create --AZURE --name azuretemplate --description azure-template --instanceType STANDARD_D3 --volumeSize 100 --volumeCount 2
blueprint select --name hdp-small-default
instancegroup configure --instanceGroup cbgateway --nodecount 1 --templateName azuretemplate
instancegroup configure --instanceGroup host_group_master_1 --nodecount 1 --templateName azuretemplate
instancegroup configure --instanceGroup host_group_master_2 --nodecount 1 --templateName azuretemplate
instancegroup configure --instanceGroup host_group_master_3 --nodecount 1 --templateName azuretemplate
instancegroup configure --instanceGroup host_group_client_1  --nodecount 1 --templateName azuretemplate
instancegroup configure --instanceGroup host_group_slave_1 --nodecount 3 --templateName azuretemplate
network select --name default-azure-network
securitygroup select --name all-services-port
stack create --name my-first-stack --region WEST_US
cluster create --description &quot;My first cluster&quot;
</code></pre>

<p>Congrats! Your cluster should now be up and running. To learn more about it we have some <a href="../operations/">interesting insights</a> about Cloudbreak clusters.</p>
                    <a href="https://github.com/sequenceiq/cloudbreak-docs/blob/master/docs/azure.md" ><i class="fa fa-github"></i> Edit on GitHub </a>
                </div>
            
        </div>

        <footer class="col-md-12">
            <hr>
            
            <center>Documentation built with <a href="https://gliderlabs.com/pagebuilder">Pagebuilder</a>.</center>
        </footer>

        <script src="../js/jquery-1.10.2.min.js"></script>
        <script src="../js/bootstrap-3.0.3.min.js"></script>
        <script src="../js/highlight.pack.js"></script>
        <script>var base_url = '..';</script>
        <script data-main="../mkdocs/js/search.js" src="../mkdocs/js/require.js"></script>
        <script src="../js/base.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                        <h4 class="modal-title" id="exampleModalLabel">Search</h4>
                    </div>
                    <div class="modal-body">
                        <p>
                            From here you can search these documents. Enter
                            your search terms below.
                        </p>
                        <form role="form">
                            <div class="form-group">
                                <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query">
                            </div>
                        </form>
                        <div id="mkdocs-search-results"></div>
                    </div>
                    <div class="modal-footer">
                    </div>
                </div>
            </div>
        </div>

         <script>
           $( document ).ready(function() {
               $.getJSON("http://sequenceiq.com/cloudbreak-docs/versions.json", function(data) {
               $("#versions-dropdown").append('<li><a href="http://sequenceiq.com/cloudbreak-docs/latest">latest ('+data.latest+')</a></li>');
                $.each(data.versions, function( index, value ) {
                  $("#versions-dropdown").append('<li><a href="http://sequenceiq.com/cloudbreak-docs/'+value+'">'+value+'</a></li>');
                });
               });

               <!--AWS Table-->
               $.getJSON("../providers/aws.json", function(data) {
               $("#cloudbreak-deployer-aws-image-details").append('<br>');
               $("#cloudbreak-deployer-aws-image-details").append('<br>');
               $("#cloudbreak-deployer-aws-image-details").append('<table>');
                 $("#cloudbreak-deployer-aws-image-details").append('<col width="290">');
                 $("#cloudbreak-deployer-aws-image-details").append('<col width="290">');
                 $("#cloudbreak-deployer-aws-image-details").append('<thead>');
                  $("#cloudbreak-deployer-aws-image-details").append('<tr>');
                   $("#cloudbreak-deployer-aws-image-details").append('<th halign="center" style="font-size: 14pt;border:none;border-bottom:solid #DDDDDD 1.5pt;padding:6.0pt 6.0pt 6.0pt 6.0pt">' + "Region" + '</th>');
                   $("#cloudbreak-deployer-aws-image-details").append('<th halign="center" style="font-size: 14pt;border:none;border-bottom:solid #DDDDDD 1.5pt;padding:6.0pt 6.0pt 6.0pt 6.0pt">' + "Image Name" + '</th>');
                  $("#cloudbreak-deployer-aws-image-details").append('</tr>');
                 $("#cloudbreak-deployer-aws-image-details").append('</thead>');
                $("#cloudbreak-deployer-aws-image-details").append('<tbody>');
                 $.each(data.metadata, function( index, value ) {
                 if (index.indexOf("region.") === 0) {
                   shortIndex = index.substring(7)
                  $("#cloudbreak-deployer-aws-image-details").append('<tr>');
                   $("#cloudbreak-deployer-aws-image-details").append('<td halign="center" valign="center" text-align="left" style="font-size: 12pt;border:none;border-bottom:solid #DDDDDD 1.5pt;padding:6.0pt 6.0pt 6.0pt 6.0pt">' + shortIndex + '</td>');
                   $("#cloudbreak-deployer-aws-image-details").append('<td halign="center" valign="center" text-align="right" style="font-size: 12pt;border:none;border-bottom:solid #DDDDDD 1.5pt;padding:6.0pt 6.0pt 6.0pt 6.0pt">' + value + '</td>');
                  $("#cloudbreak-deployer-aws-image-details").append('</tr>');
                  }
                 });
                $("#cloudbreak-deployer-aws-image-details").append('</tbody>');
               $("#cloudbreak-deployer-aws-image-details").append('</table>');
               });

               <!--OpenStack-->
               $.getJSON("../providers/openstack.json", function(data) {
               $("#cloudbreak-deployer-openstack-image-details").append('<br>');
               $("#cloudbreak-deployer-openstack-image-details").append('<br>');
               $("#cloudbreak-deployer-openstack-image-details").append('<p style="font-size: 12pt"><code>LATEST_IMAGE:</code>' + data.metadata.image_name + '</p>');
               $("#cloudbreak-deployer-openstack-image-details").append('<pre><code style="font-size: 12pt;color:#333333">curl -L https://atlas.hashicorp.com/api/v1/artifacts/sequenceiq/cbd/openstack.image/' + data.version + '/file | tar -xz</code></pre>');
               });

               <!--OpenStack Cloudbreak-->
               $.getJSON("../providers/openstack_cloudbreak.json", function(data) {
               $("#openstack-cloudbreak-image-details").append('<br>');
               $("#openstack-cloudbreak-image-details").append('<br>');
               $("#openstack-cloudbreak-image-details").append('<p style="font-size: 12pt"><code>LATEST_IMAGE:</code>' + data.id + '</p>');
               $("#openstack-cloudbreak-image-details").append('<pre><code style="font-size: 12pt;color:#333333">curl -L https://atlas.hashicorp.com/api/v1/artifacts/sequenceiq/cloudbreak/openstack.image/' + data.version + '/file | tar -xz</code></pre>');
               });

               <!--GCP-->
               $.getJSON("../providers/gcp.json", function(data) {
               $("#cloudbreak-deployer-gcp-image-details").append('<br>');
               $("#cloudbreak-deployer-gcp-image-details").append('<br>');
               $("#cloudbreak-deployer-gcp-image-details").append('<pre><code style="font-size: 12pt;color:#333333">' + data.gcp.import_script + '</code></pre>');
               });
           });
         </script>
    </body>
</html>
